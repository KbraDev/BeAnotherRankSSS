[gd_scene load_steps=18 format=3 uid="uid://dlhligdd2twvb"]

[ext_resource type="Script" uid="uid://bryw5yks6ojeq" path="res://scripts/enemy/globbin/globbin.gd" id="1_2a2nm"]
[ext_resource type="SpriteFrames" uid="uid://dnefqpy13h0sy" path="res://scenes/characters/monsters/GlobbinRockie/globbin_rockie.tres" id="1_os86r"]
[ext_resource type="PackedScene" uid="uid://dabadhwkyy5pl" path="res://scenes/World_pick-Ups/pick_ups_items.tscn" id="2_iveyc"]
[ext_resource type="Resource" uid="uid://datdms6elh0aq" path="res://items/resources/GlobbinRockieFinger.tres" id="2_mcwmj"]
[ext_resource type="Script" uid="uid://c8luqh8ewax4r" path="res://scenes/characters/monsters/greenslime/scripts/health_bar.gd" id="4_r1bri"]
[ext_resource type="AudioStream" uid="uid://c6cb8n83lhpd6" path="res://SFX/Effects/Globbins/Rockie/startchase.wav" id="6_82r7u"]
[ext_resource type="AudioStream" uid="uid://bpqt0l7cotjt4" path="res://SFX/Effects/Globbins/Rockie/hit5.wav" id="7_hn35v"]
[ext_resource type="Texture2D" uid="uid://c2v83ylyer7g7" path="res://sprites/UIS/GenericHealthBar/bg.png" id="8_hn35v"]
[ext_resource type="AudioStream" uid="uid://cuuypkouxncq7" path="res://SFX/Effects/Globbins/Rockie/defend1.wav" id="8_iveyc"]
[ext_resource type="Texture2D" uid="uid://ceulw3jv2yggk" path="res://sprites/UIS/GenericHealthBar/Fill.png" id="9_iveyc"]
[ext_resource type="AudioStream" uid="uid://ci8k2btww3cfs" path="res://SFX/Effects/Globbins/Rockie/irritated1.wav" id="9_kei1i"]
[ext_resource type="Texture2D" uid="uid://cxtgttpj1qt8j" path="res://sprites/UIS/GenericHealthBar/Outline.png" id="10_kei1i"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2a2nm"]
size = Vector2(20, 28)

[sub_resource type="CircleShape2D" id="CircleShape2D_mcwmj"]
radius = 29.0

[sub_resource type="CircleShape2D" id="CircleShape2D_2a2nm"]
radius = 170.003

[sub_resource type="CircleShape2D" id="CircleShape2D_fkoyn"]
radius = 26.0192

[sub_resource type="CircleShape2D" id="CircleShape2D_qwdm3"]
radius = 22.0

[node name="GlobbinRockie" type="CharacterBody2D"]
z_index = 1
script = ExtResource("1_2a2nm")
move_speed = 40.0
pickup_scene = ExtResource("2_iveyc")
drop_item = ExtResource("2_mcwmj")
exp_min = 21
exp_max = 31
max_health = 22.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
z_index = 3
position = Vector2(0, -4)
shape = SubResource("RectangleShape2D_2a2nm")

[node name="CollisionCheck" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="CollisionCheck"]
shape = SubResource("CircleShape2D_mcwmj")

[node name="DetectionArea" type="Area2D" parent="."]
collision_layer = 6
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="DetectionArea"]
shape = SubResource("CircleShape2D_2a2nm")
debug_color = Color(0.67296, 0.507706, 0, 0.42)

[node name="AttackArea" type="Area2D" parent="."]
collision_layer = 6
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="AttackArea"]
shape = SubResource("CircleShape2D_fkoyn")
debug_color = Color(0.980755, 0.137938, 0, 0.42)

[node name="BrakeArea" type="Area2D" parent="."]
collision_layer = 6
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="BrakeArea"]
shape = SubResource("CircleShape2D_qwdm3")
debug_color = Color(0.785554, 0.421037, 0.277402, 0.42)

[node name="StartChase" type="AudioStreamPlayer2D" parent="." groups=["SFXs"]]
stream = ExtResource("6_82r7u")

[node name="Attack" type="AudioStreamPlayer2D" parent="." groups=["SFXs"]]
stream = ExtResource("7_hn35v")

[node name="Hurt" type="AudioStreamPlayer2D" parent="." groups=["SFXs"]]
stream = ExtResource("8_iveyc")

[node name="Rush" type="AudioStreamPlayer2D" parent="." groups=["SFXs"]]
stream = ExtResource("9_kei1i")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = ExtResource("1_os86r")
animation = &"attack_left_side"

[node name="HealthBar" type="TextureProgressBar" parent="."]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -12.0
offset_top = -25.0
offset_right = 20.0
offset_bottom = -19.0
grow_horizontal = 2
scale = Vector2(0.7, 0.7)
max_value = 10.0
value = 10.0
exp_edit = true
texture_under = ExtResource("8_hn35v")
texture_over = ExtResource("10_kei1i")
texture_progress = ExtResource("9_iveyc")
script = ExtResource("4_r1bri")

[connection signal="animation_finished" from="AnimatedSprite2D" to="." method="_on_animated_sprite_2d_animation_finished"]
